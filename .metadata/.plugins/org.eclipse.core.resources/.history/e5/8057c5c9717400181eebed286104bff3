<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://ws.apache.org/ns/synapse">
    <proxy name="CustomerServiceProxy" startOnLoad="true" transports="http https">
        <target>
            <inSequence>
                <filter xpath="//getCustomer">
                    <then>
                        <property expression="//getCustomer/id" name="REST_URL_POSTFIX" scope="axis2" type="STRING"/>
                        <property name="HTTP_METHOD" scope="axis2" type="STRING" value="GET"/>
                    </then>
                    <else/>
                </filter>
                <header name="Accept" scope="transport" value="application/xml"/>
                <send>
                    <endpoint>
                        <address format="pox" uri="http://localhost:8280/jaxrs_basic/services/customers/customerservice/customers"/>
                    </endpoint>
                </send>
            </inSequence>
            <outSequence>
                <send/>
            </outSequence>
            <faultSequence/>
        </target>
    </proxy>
</definitions>
